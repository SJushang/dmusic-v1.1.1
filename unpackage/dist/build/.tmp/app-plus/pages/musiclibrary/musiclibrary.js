(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/musiclibrary/musiclibrary"],{"0acd":function(t,e,o){"use strict";var a=function(){var t=this,e=t.$createElement,a=(t._self._c,o("4898")),i=o("4c24"),s=o("bf22"),n=t.__map(t.SongList,function(e,o){var a=e.ar.map(function(t){return t.name}).join(" / ");return{$orig:t.__get_orig(e),g0:a}});t.$mp.data=Object.assign({},{$root:{m0:a,m1:i,m2:s,l0:n}})},i=[];o.d(e,"a",function(){return a}),o.d(e,"b",function(){return i})},1904:function(t,e,o){"use strict";o.r(e);var a=o("0acd"),i=o("8c98");for(var s in i)"default"!==s&&function(t){o.d(e,t,function(){return i[t]})}(s);o("a7d9");var n=o("2877"),r=Object(n["a"])(i["default"],a["a"],a["b"],!1,null,"fb7d52b8",null);e["default"]=r.exports},"20c1":function(t,e,o){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=o("31c6"),i=function(){return Promise.all([o.e("common/vendor"),o.e("components/uni-music/SongFooter")]).then(o.bind(null,"bc2c"))},s={components:{SongFooter:i},data:function(){return{subscribedCount:0,SongList:[],audio_id:null,audio_paused:null}},onLoad:function(e){var o=this;t.showLoading({title:"loading"}),(0,a.getSongList)({id:1}).then(function(e){var a=!0,i=!1,s=void 0;try{for(var n,r=e.playlist.tracks[Symbol.iterator]();!(a=(n=r.next()).done);a=!0){var u=n.value;o.SongList.push({al:{picUrl:u.al.picUrl,name:u.al.name},ar:u.ar,name:u.name,id:u.id})}}catch(d){i=!0,s=d}finally{try{a||null==r.return||r.return()}finally{if(i)throw s}}o.subscribedCount=e.playlist.subscribedCount,t.hideLoading()})},onShow:function(){var t=this;this.$store.state.audio.onCanplay(function(){t.$refs.SongFooter.update(),t.updateStore(),t.$refs.SongFooter.updateStore()}),this.$store.state.audio.onPlay(function(){t.$refs.SongFooter.onPlay(),t.updateStore(),t.$refs.SongFooter.updateStore()}),this.$store.state.audio.onPause(function(){t.$refs.SongFooter.onPause(),t.updateStore(),t.$refs.SongFooter.updateStore()}),this.$store.state.audio.id&&(this.updateStore(),this.$refs.SongFooter.Draw(),this.$refs.SongFooter.updateStore())},methods:{updateStore:function(){this.audio_id=this.$store.state.audio.id,this.audio_paused=this.$store.state.audio.paused},go:function(e){this.$store.state.song&&this.$store.state.song.id===e.id||this.$store.dispatch("setGlobalData",{key:"song",value:e}),this.insert_list(e),t.navigateTo({url:"/pages/song/index?id=".concat(e.id)})},play:function(t){var e=this,o=this.$store.state.audio;if(this.$store.state.song&&this.$store.state.song.id===t.id)return o.paused?o.play():o.pause(),void this.$store.dispatch("setGlobalData",{key:"audio",value:o});this.$store.dispatch("setGlobalData",{key:"song",value:t});var a=this.$store.state.song;this.insert_list(a),this.$store.dispatch("update",{item:t}),this.$store.dispatch("updateLyric",{id:t.id}),o.onCanplay(function(){e.$refs.SongFooter.update()})},playAll:function(){var t=this;if(this.SongList.length){var e=this.$store.state.audio;this.$store.dispatch("setGlobalData",{key:"mode",value:2}),this.$store.dispatch("setGlobalData",{key:"songList",value:this.state.SongList}),this.$store.dispatch("setGlobalData",{key:"song",value:this.state.SongList[0]}),this.$store.dispatch("update",{item:this.state.SongList[0]}),this.$store.dispatch("updateLyric",{id:this.state.SongList[0].id}),e.onCanplay(function(){t.$refs.SongFooter.update()})}},insert_list:function(t){var e=this,o=this.$store.state.songList;if(0===o.length)return this.$store.dispatch("setGlobalData",{key:"songList",value:this.SongList}),void this.$store.dispatch("setGlobalData",{key:"mode",value:2});var a=!1;if(o.forEach(function(e){e.id===t.id&&(a=!0)}),!a){var i=0;o.forEach(function(t,o){t.id===e.$store.state.audio.id&&(i=o)}),o.splice(i+1,0,t)}},Collection:function(){t.showToast({title:"暂不支持收藏",icon:"none",duration:1e3})}}};e.default=s}).call(this,o("6e42")["default"])},"5e49":function(t,e,o){},"8c98":function(t,e,o){"use strict";o.r(e);var a=o("20c1"),i=o.n(a);for(var s in a)"default"!==s&&function(t){o.d(e,t,function(){return a[t]})}(s);e["default"]=i.a},a7d9:function(t,e,o){"use strict";var a=o("5e49"),i=o.n(a);i.a},fa8d:function(t,e,o){"use strict";(function(t){o("00e6"),o("921b");a(o("66fd"));var e=a(o("1904"));function a(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,o("6e42")["createPage"])}},[["fa8d","common/runtime","common/vendor"]]]);