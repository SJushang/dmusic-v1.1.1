(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/song/index"],{"34df":function(t,e,i){},"3c3d":function(t,e,i){"use strict";i.r(e);var a=i("cdcc"),o=i.n(a);for(var s in a)"default"!==s&&function(t){i.d(e,t,function(){return a[t]})}(s);e["default"]=o.a},4111:function(t,e,i){"use strict";var a=i("34df"),o=i.n(a);o.a},"80f2":function(t,e,i){"use strict";(function(t){i("00e6"),i("921b");a(i("66fd"));var e=a(i("bc3b"));function a(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,i("6e42")["createPage"])},bc3b:function(t,e,i){"use strict";i.r(e);var a=i("c6df"),o=i("3c3d");for(var s in o)"default"!==s&&function(t){i.d(e,t,function(){return o[t]})}(s);i("4111");var n=i("2877"),u=Object(n["a"])(o["default"],a["a"],a["b"],!1,null,"4161bfa9",null);e["default"]=u.exports},c6df:function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,a=(t._self._c,i("29a6")),o=i("29a6"),s=t.$GetDateTime(new Date(1e3*t.time),"h:i:s"),n=t.$GetDateTime(new Date(1e3*t.time),"i:s"),u=t.$GetDateTime(new Date(1e3*t.audio_duration),"h:i:s"),r=t.$GetDateTime(new Date(1e3*t.audio_duration),"i:s"),d=i("bc44"),c=i("059d"),l=i("7ff7"),h=i("4c12"),f=i("3eab"),m=i("3fd5"),p=i("552b"),$=i("868b");t._isMounted||(t.e0=function(e){t.show=!0}),t.$mp.data=Object.assign({},{$root:{m0:a,m1:o,m2:s,m3:n,m4:u,m5:r,m6:d,m7:c,m8:l,m9:h,m10:f,m11:m,m12:p,m13:$}})},o=[];i.d(e,"a",function(){return a}),i.d(e,"b",function(){return o})},cdcc:function(t,e,i){"use strict";(function(t,a){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=i("2f62");function s(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{},a=Object.keys(i);"function"===typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(i).filter(function(t){return Object.getOwnPropertyDescriptor(i,t).enumerable}))),a.forEach(function(e){n(t,e,i[e])})}return t}function n(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var u=function(){return i.e("components/uni-music/PlayList").then(i.bind(null,"c601"))},r=null,d=null,c=!1,l={components:{PlayList:u},data:function(){return{sliderValue:0,show:!1,time:0,style:"bottom: 0px",LyricIndex:0,audio__singer:null,audio_LyricList:null,audio_duration:null,audio_paused:null}},created:function(){var e=this,i=this.$store.state.song,o=this.$store.state.audio;i.id!==o.id&&(i.src=o.src,this.$store.dispatch("setGlobalData",{key:"song",value:i}),this.$store.dispatch("update",{item:i}),this.$store.dispatch("updateLyric",{id:i.id,callback:function(){e.$store.state.audio.onCanplay(function(){console.log(t("歌曲准备完成,可以播放了"," at pages\\song\\index.vue:168")),e.$store.state.audio.paused?c&&e.setTime():e.setTime(),e.updateStore()})}}),a.setNavigationBarTitle({title:i.name}),c=!0,this.time=0,this.sliderValue=0),o.paused||this.setTime(),this.time=o.currentTime,this.sliderValue=100*(o.currentTime+1)/this.$store.state.audio.duration,this.updateStore()},mounted:function(){var e=this;this.$store.state.audio.onCanplay(function(){console.log(t("歌曲准备完成,可以播放了"," at pages\\song\\index.vue:196")),e.$store.state.audio.paused?c&&e.setTime():e.setTime(),e.updateStore()}),this.$store.state.audio.onPlay(function(){e.setTime(),e.updateStore()}),this.$store.state.audio.onPause(function(){clearInterval(r),e.updateStore()}),this.$store.state.audio.onWaiting(function(){d=setTimeout(function(){a.showLoading({title:"loading"})},2e3)})},computed:s({},(0,o.mapState)(["song","mode","audio"])),methods:{updateStore:function(){console.log(t(this.$store.state.audio.paused," at pages\\song\\index.vue:225")),this.audio__singer=this.$store.state.audio._singer,this.audio_paused=this.$store.state.audio.paused,this.audio_LyricList=this.$store.state.audio.LyricList,this.audio_duration=this.$store.state.audio.duration},setTime:function(){var t=this;clearInterval(r);var e=0|Math.round(this.$store.state.audio.currentTime);r=setInterval(function(){0===t.$store.state.audio.duration&&(clearInterval(r),t.time=0,t.sliderValue=0),d?(clearInterval(d),d=null):a.hideLoading(),t.time=t.time+1,t.sliderValue=100*(t.time+1)/t.$store.state.audio.duration,t.$store.state.audio&&t.$store.state.audio.LyricList&&t.$store.state.audio.LyricList.map(function(e,i){t.time>e.time&&(t.style="bottom:".concat(28*(i-1),"px"),t.LyricIndex=i)})},1e3),this.time=e,this.sliderValue=100*(this.time+1)/this.$store.state.audio.duration,this.$store.state.audio&&this.$store.state.audio.LyricList&&this.$store.state.audio.LyricList.map(function(e,i){t.time>e.time&&(t.style="bottom:".concat(28*(i-1),"px"),t.LyricIndex=i)})},debounce:function(t,e){var i;return function(){var a=this,o=arguments;i||(i=setTimeout(function(){i=null,t.apply(a,o)},e))}},turnState:function(){var t=this.$store.state.audio;t.paused?(t.play(),this.setTime()):(t.pause(),clearInterval(r))},sliderChange:function(t){var e=this.$store.state.audio,i=e.duration*t.detail.value/100;e.seek(i),clearInterval(r),this.time=i,this.sliderValue=100*(i+1)/e.duration},Switch:function(){var t=this.$store.state.mode;1===t?(this.$store.dispatch("setGlobalData",{key:"mode",value:2}),a.showToast({title:"已切换到循环播放",icon:"none",duration:1e3})):2===t?(this.$store.dispatch("setGlobalData",{key:"mode",value:3}),a.showToast({title:"已切换到随机播放",icon:"none",duration:1e3})):3===t&&(this.$store.dispatch("setGlobalData",{key:"mode",value:1}),a.showToast({title:"已切换到单曲循环",icon:"none",duration:1e3}))},close:function(){this.show=!1},prev:function(){var t=this;this.$store.dispatch("prev",{callback:function(e){t.$store.dispatch("update",{item:e}),t.$store.dispatch("updateLyric",{id:e.id})}})},next:function(){var t=this;this.$store.dispatch("next",{callback:function(e){t.$store.dispatch("update",{item:e}),t.$store.dispatch("updateLyric",{id:e.id})}})}}};e.default=l}).call(this,i("0de9")["default"],i("6e42")["default"])}},[["80f2","common/runtime","common/vendor"]]]);